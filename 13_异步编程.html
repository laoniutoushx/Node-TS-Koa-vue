<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            Promise
                构造函数
                接受一个参数：callback，我们把要执行的异步任务放置在这个 callback 中
                Promise 对象内部维护一个状态，
                        默认是： pending 状态 【未发生的】
                        成功：resolved
                        失败：rejected

                Promise then 方法，在 Promise 对象状态变化是调用
        */
        let p1 = new Promise((resolve, reject) => {

            // 当 Promise 被实例化的时候，callback 的异步任务就会被执行

            // 可以通过传入的参数 resovle， reject，去改变 Promise 当前的任务状态
            // resolve , reject 是两个函数， 调用 resolve 会把状态改成成功，调用 reject 会改成失败状态
            setTimeout(() => {
                console.info(1);
                resolve();  // 成功 or 失败
            }, 3000);
        });
        console.info(p1);

        p1.then(() => { // resolved 执行此方法

        }, () => {      // reject 执行此方法

        })
    </script>
</body>
</html>